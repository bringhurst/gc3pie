# ~/.gc3/logging.conf
#
# Configuration file for gc3utils logging
#
# See http://docs.python.org/release/2.4/lib/logging-config-fileformat.html
# for the syntax of the configuration directives.
# In addition to the standard syntax, the following strings will be given
# special treatment:
#
#   %(HOMEDIR)s   is substituted with the full path to the home directory
#                  of the running user
#
#   %(RCDIR)s     is substituted with the full path to the directory where
#                 the gc3utils configuration file resides
#

[loggers]
keys=root,gc3utils

[logger_root]
# The "root" logger gets messages from all running code, not just gc3utils
# (e.g., from Paramiko); dump all this into a logfile at the most verbose level
level=DEBUG
handlers=logfile

[logger_gc3utils]
# The "gc3utils" logger catches all output generated by the our "gc3utils" code;
# output it to the console, with a verbosity level set programmatically after 
# parsing the "-v" options on the command line.
qualname=gc3utils
level=NOTSET
handlers=stderr
# This ensures that anything is also logged by the root/logfile logger above.
propagate=1

[handlers]
keys=logfile,stderr

[handler_logfile]
# verbose output to logfile located in ~/.gc3/gc3utils.log
# rotate logfile on monday every week
level=DEBUG
class=handlers.TimedRotatingFileHandler
args=('%(HOMEDIR)s/.gc3utils.log','w0',1,5)
formatter=logfile

[handler_stderr]
# console output level should not be set here, as it
# will limit the effectiveness of option "-v" 
# (see ticket #77)
#level=WARNING
class=StreamHandler
args=(sys.stderr,)
formatter=stderr

[formatters]
keys=logfile,stderr

[formatter_logfile]
format=[%(asctime)s] %(levelname)-8s: %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_stderr]
format=%(name)s: %(levelname)s: %(message)s
